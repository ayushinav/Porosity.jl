import{_ as t,C as l,c as p,o as i,an as a,b as h,w as e,a as d,G as k,ao as o}from"./chunks/framework.BTD047ve.js";const A=JSON.parse('{"title":"Structure","description":"","frontmatter":{},"headers":[],"relativePath":"intro/structure.md","filePath":"intro/structure.md","lastUpdated":null}'),r={name:"intro/structure.md"};function c(E,s,y,g,u,m){const n=l("Mermaid");return i(),p("div",null,[s[1]||(s[1]=a(`<h1 id="Structure" tabindex="-1">Structure <a class="header-anchor" href="#Structure" aria-label="Permalink to &quot;Structure {#Structure}&quot;">​</a></h1><p>One of the goals of this package is to provide an easy and intuitive way to compute the geophysical observables. In order to that, it is helpful to understand the structure of codes. The following serves as a cheatsheet to understand the structure.</p><p>The interface throughout the package proceeds in three steps:</p><ol><li><p>Define the physics of the system</p></li><li><p>Define the rock physics model by providing the rock physics parameters</p></li><li><p>Call <code>forward</code></p></li></ol><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-Hglfs" id="tab-F_-OYgy" checked><label data-title="Conductivity" for="tab-F_-OYgy">Conductivity</label><input type="radio" name="group-Hglfs" id="tab-iwzADuR"><label data-title="Elastic" for="tab-iwzADuR">Elastic</label><input type="radio" name="group-Hglfs" id="tab-01XPI7s"><label data-title="Viscous" for="tab-01XPI7s">Viscous</label><input type="radio" name="group-Hglfs" id="tab-3LgoxUn"><label data-title="Anelastic" for="tab-3LgoxUn">Anelastic</label><input type="radio" name="group-Hglfs" id="tab-ZlqVdG5"><label data-title="Phase mixing type" for="tab-ZlqVdG5">Phase mixing type</label><input type="radio" name="group-Hglfs" id="tab-Z9tjk_B"><label data-title="Combine models" for="tab-Z9tjk_B">Combine models</label><input type="radio" name="group-Hglfs" id="tab-cYqgYoJ"><label data-title="Tune models" for="tab-cYqgYoJ">Tune models</label></div><div class="blocks"><div class="language-julia vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define physics</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SEO3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define model</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> model_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(T)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, [])</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define physics</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> anharmonic</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define model</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> model_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(T, P, ρ)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, [])</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define physics</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HK2003</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define model</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> model_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(T, P, dg, σ, ϕ)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, [])</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define physics</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> andrade_psp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define model</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> model_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(T, P, dg, σ, ϕ, ρ, f)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, [])</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define physics</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> two_phase_modelType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Yoshino2009, Sifre2014, HS1962_plus)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define model</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps_nt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (; T, Ch2o_ol, Ch2o_m, Cco2_m)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> model_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ps_nt)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, [])</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define physics</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> multi_rp_modelType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(SEO3, anharmonic, HK2003, andrade_psp)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define model</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps_nt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (; T, Ch2o_ol, P, ρ, dg, σ, ϕ, f)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> model_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ps_nt)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, [])</span></span></code></pre></div><div class="language-julia vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">julia</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define physics</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fn_list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [solidus_Hirschmann2000, get_melt_fraction, get_Ch2o_m]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> two_phase_modelType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(Yoshino2009, Gaillard2008, HS1962_plus)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">model_type </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> tune_rp_modelType</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fn_list, m_type)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># define model</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ps_nt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (; T, Ch2o, P)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">m </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> model_type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ps_nt)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># forward</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">resp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> forward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(m, [])</span></span></code></pre></div></div></div><h2 id="Building-blocks" tabindex="-1">Building blocks <a class="header-anchor" href="#Building-blocks" aria-label="Permalink to &quot;Building blocks {#Building-blocks}&quot;">​</a></h2><p>Consider the example of <a href="/Porosity.jl/previews/PR28/models/conductivity#SEO3">SEO3</a>, a simple model that estimates the temperature dependent conductivity of olivine. It is a <code>AbstractCondModel</code>, which in simple terms groups all the models that estimate conductivity. Similarly, we have <code>AbstractElasticModel</code>, <code>AbstractViscousModel</code> and <code>AbstractAnelasticModel</code>. These are the main building blocks and are shown at the top in the following flowchart.</p>`,7)),(i(),h(o,null,{default:e(()=>[k(n,{id:"mermaid-41",class:"mermaid",graph:"graph%20TD%3B%0A%20%20%20%20subgraph%20L%5B%20%5D%0A%20%20%20%20%20%20%20%20AbstractCondModel%0A%20%20%20%20%20%20%20%20AbstractElasticModel%0A%20%20%20%20%20%20%20%20AbstractViscousModel%0A%20%20%20%20%20%20%20%20AbstractAnelasticModel%0A%20%20%20%20end%0A%0A%20%20%20%20AbstractCondModel%20--%3E%20Matrix_conductivity%3B%0A%20%20%20%20AbstractCondModel%20--%3E%20Melt_conductivity%3B%0A%20%20%20%20AbstractCondModel%20-.-%3E%20m1%5B%22%20%22%5D%3B%0A%20%20%20%20AbstractCondModel%20-.-%3E%20m2%5B%22%20%22%5D%3B%0A%20%20%20%20AbstractCondModel%20-.-%3E%20multi_phase_modelType%3B%0A%20%20%20%20m1%20-.-%3E%20multi_phase_modelType%0A%20%20%20%20m2%20-.-%3E%20multi_phase_modelType%0A%20%20%20%20multi_phase_modelType%20--%3E%20combine_rp_modelType%0A%20%20%20%20Matrix_conductivity%20--%3E%20two_phase_modelType%3B%0A%20%20%20%20Melt_conductivity%20--%3E%20two_phase_modelType%3B%0A%20%20%20%20two_phase_modelType%20--%3E%20combine_rp_modelType%3B%0A%20%20%20%20AbstractCondModel%20--%3E%20combine_rp_modelType%3B%0A%20%20%20%20AbstractElasticModel%20--%3E%20combine_rp_modelType%3B%0A%20%20%20%20AbstractViscousModel%20--%3E%20combine_rp_modelType%3B%0A%20%20%20%20AbstractAnelasticModel%20--%3E%20combine_rp_modelType%3B%0A%20%20%20%20combine_rp_modelType%20--%3E%20tune_rp_modelType%3B%0A%0A%20%20%20%20style%20L%20fill%3Atransparent%0A"})]),fallback:e(()=>[...s[0]||(s[0]=[d(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=a('<h2 id="Mixing-phases" tabindex="-1">Mixing phases <a class="header-anchor" href="#Mixing-phases" aria-label="Permalink to &quot;Mixing phases {#Mixing-phases}&quot;">​</a></h2><p>More often than not, we want to compute the bulk conductivity in the presence of fluids. This can be accomplished with <a href="/Porosity.jl/previews/PR28/api#Porosity.two_phase_modelType"><code>two_phase_modelType</code></a>. <a href="./../tutorials/mixing_phases">Relevant tutorial</a></p><h2 id="Multi-rock-physics" tabindex="-1">Multi-rock physics <a class="header-anchor" href="#Multi-rock-physics" aria-label="Permalink to &quot;Multi-rock physics {#Multi-rock-physics}&quot;">​</a></h2><p>A further goal of the package is to encourage joint stochastic inference of more than one data types. For that purpose, we provide <a href="/Porosity.jl/previews/PR28/api#Porosity.multi_rp_modelType"><code>multi_rp_modelType</code></a>. <a href="./../tutorials/combine_models">Relevant tutorial</a></p><h2 id="Tuning-rock-physics" tabindex="-1">Tuning rock physics <a class="header-anchor" href="#Tuning-rock-physics" aria-label="Permalink to &quot;Tuning rock physics {#Tuning-rock-physics}&quot;">​</a></h2><p>It happens in a lot of cases that one of the inputs to a rock physics model is dependent on the other, e.g. melt fraction depends on temperature of the rock and its solidus temperature. In those cases where we want to tune one of the models with respect to others, <a href="/Porosity.jl/previews/PR28/api#Porosity.tune_rp_modelType"><code>tune_rp_modelType</code></a> will come handy. <a href="./../tutorials/tune_rp">Relevant tutorial</a></p>',6))])}const b=t(r,[["render",c]]);export{A as __pageData,b as default};
